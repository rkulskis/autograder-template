# Autograder template
This template allows for course staff to easily create new assignments with 
maximal automation and speed.

To pull this framework into an existing autograder repository run:
```
git remote add upstream git@github.com:rkulskis/autograder-template.git
git remote set-url --push upstream no_push
git config --global merge.keeporigin.driver "cp -f %A %O"
echo "classlib.py merge=keeporigin" > .gitattributes
git pull upstream main --allow-unrelated-histories
```

## Getting started
### Demo
```bash
make demo
```

Run `make zip` inside `starter_code/` and `autograder/` to get zip files for 
`starter_code.zip` (for students) and `autograder.zip` (upload to gradescope).

### Customization
To port to your own assignment add your:
1. Library functions for the class to `classlib.py`
2. Test creation code to `create_assignment_files.py`
   * Run `make` in same directory to call this
2. Test verification code to `test.py`
3. Write a solution in `solution/submission.py`
   * Run `make` inside `starter_code/`
   * Run `make` inside `autograder/`

## Background
Below is a `tree` of the code including descriptions for the files and how to use
them. The template code just generates random graph tests for an assignment
which has one function, `doubleEdgeWeights()`.

This structure is targeted toward comparing output files from python code
submissions, but can be extended to other languages as needed.
 
### Tree (only important files)
```bash
KEY:
⭐: Modify these files to make a new assignment
⚙️: Autogenerated files using Makefile
.
├── classlib.py ⭐
├── Makefile
├── PA-template
│   ├── assignment-description.{pdf,tex} ⭐
│   ├── autograder
│   │   ├── classlib.py ⚙️
│   │   ├── Makefile
│   │   ├── requirements.txt
│   │   ├── run_autograder
│   │   ├── run_tests.py
│   │   ├── setup.sh
│   │   ├── submission.py -> ../starter_code/submission.py
│   │   └── tests
│   │       ├── classlib.py -> ../classlib.py
│   │       ├── problems -> ../../problems/
│   │       ├── test.py ⭐
│   │       └── {after_due_date,after_published,hidden,visible} ⚙️
│   │           ├── inputs
│   │           │   └── input{%2d}.txt
│   │           └── outputs
│   │               └── output{%2d}.txt
│   ├── classlib.py -> ../classlib.py
│   ├── create_assignment_files.py ⭐
│   ├── Makefile
│   ├── problems -> ../problems
│   ├── solution ⚙️
│   │   └── submission.py
│   └── starter_code ⚙️
│       ├── assignment-description.pdf -> ../assignment-description.pdf
│       ├── classlib.py
│       ├── dist
│       │   ├── classlib.py
│       │   ├── problems
│       │   │   ├── {problems_in_PA}.py
│       │   │   └── problem.py
│       │   ├── pyarmor_runtime_000000
│       │   │   ├── darwin_x86_64
│       │   │   │   └── pyarmor_runtime.so
│       │   │   ├── __init__.py
│       │   │   ├── linux_x86_64
│       │   │   │   └── pyarmor_runtime.so
│       │   │   └── windows_x86_64
│       │   │       └── pyarmor_runtime.pyd
│       │   └── test.py
│       ├── Makefile
│       ├── submission.py
│       └── tests
│           ├── inputs -> ../autograder/tests/visible/inputs
│           ├── problems -> ../autograder/tests/visible/inputs
│           └── test_descriptions.txt -> ../autograder/tests/test_descriptions.txt
├── problems
│   ├── classlib.py -> ../classlib.py
│   ├── {problems_in_PA}.py ⭐
│   └── problem.py
└── README.md
```
